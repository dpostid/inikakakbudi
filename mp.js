var Mailcheck={domainThreshold:4,topLevelThreshold:3,defaultDomains:"yahoo.com google.com hotmail.com gmail.com me.com aol.com mac.com live.com comcast.net googlemail.com msn.com hotmail.co.uk yahoo.co.uk facebook.com verizon.net sbcglobal.net att.net gmx.com mail.com outlook.com icloud.com".split(" "),defaultTopLevelDomains:"co.jp co.uk com net org info edu gov mil ca".split(" "),run:function(e){e.domains=e.domains||Mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||Mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Mailcheck.sift3Distance;var a=function(e){return e},t=e.suggested||a;a=e.empty||a;return(e=Mailcheck.suggest(Mailcheck.encodeEmail(e.email),e.domains,e.topLevelDomains,e.distanceFunction))?t(e):a()},suggest:function(e,a,t,n){if(e=e.toLowerCase(),e=this.splitEmail(e),a=this.findClosestDomain(e.domain,a,n,this.domainThreshold)){if(a!=e.domain)return{address:e.address,domain:a,full:e.address+"@"+a}}else if(t=this.findClosestDomain(e.topLevelDomain,t,n,this.topLevelThreshold),e.domain&&t&&t!=e.topLevelDomain)return a=(n=e.domain).substring(0,n.lastIndexOf(e.topLevelDomain))+t,{address:e.address,domain:a,full:e.address+"@"+a};return!1},findClosestDomain:function(e,a,t,n){n=n||this.topLevelThreshold;var i,l=99,r=null;if(!e||!a)return!1;t||(t=this.sift3Distance);for(var o=0;o<a.length;o++){if(e===a[o])return e;(i=t(e,a[o]))<l&&(l=i,r=a[o])}return l<=n&&null!==r&&r},sift3Distance:function(e,a){if(null==e||0===e.length)return null==a||0===a.length?0:a.length;if(null==a||0===a.length)return e.length;for(var t=0,n=0,i=0,l=0;t+n<e.length&&t+i<a.length;){if(e.charAt(t+n)==a.charAt(t+i))l++;else for(var r=i=n=0;5>r;r++){if(t+r<e.length&&e.charAt(t+r)==a.charAt(t)){n=r;break}if(t+r<a.length&&e.charAt(t)==a.charAt(t+r)){i=r;break}}t++}return(e.length+a.length)/2-l},splitEmail:function(e){if(2>(e=e.trim().split("@")).length)return!1;for(var a=0;a<e.length;a++)if(""===e[a])return!1;var t=e.pop(),n=t.split("."),i="";if(0==n.length)return!1;if(1==n.length)i=n[0];else{for(a=1;a<n.length;a++)i+=n[a]+".";2<=n.length&&(i=i.substring(0,i.length-1))}return{topLevelDomain:i,domain:t,address:e.join("@")}},encodeEmail:function(e){return(e=encodeURI(e)).replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};function getURLParameter(e){return decodeURIComponent((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function getURLParameterExact(e){for(var a=window.location.search.substring(1).split("&"),t=0;t<a.length;t++){var n=a[t].split("=");if(n[0]==e)return n[1]}}"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"undefined"!=typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var a=this;if(e.suggested){var t=e.suggested;e.suggested=function(e){t(a,e)}}if(e.empty){var n=e.empty;e.empty=function(){n.call(null,a)}}e.email=this.val(),Mailcheck.run(e)}),$('input[name="email"]').on("blur",function(){_this=this,$(this).mailcheck({suggested:function(e,a){$(".email_suggestion").remove(),$(e).parent().append('<div class="email_suggestion">Did you mean <a href="#">'+a.full+"</a>?</div>")},empty:function(){$(".email_suggestion").remove()}}),$.each("test@test.com, test@gmail.com".split(","),function(e,a){$(_this).val().search(a.trim())>=0&&($(".email_suggestion").remove(),$(_this).val(""),$(_this).parent().append('<div class="email_suggestion">Please use real email.</div>'))})}),$("body").on("click",".email_suggestion a",function(e){return e.preventDefault(),$('input[name="email"]').val($(this).text()),$(".email_suggestion a").html(""),!1}),$(function(){"null"!=getURLParameter("email")&&($('input[name="contact[email]"]').val(getURLParameterExact("email")),$("[name=email]").val(getURLParameterExact("email"))),"null"!=getURLParameter("name")&&($('input[name="contact[name]"]').val(getURLParameterExact("name")),$("[name=name]").val(getURLParameterExact("name"))),"null"!=getURLParameter("first_name")&&($('input[name="contact[first_name]"]').val(getURLParameter("first_name")),$("[name=first_name]").val(getURLParameter("first_name"))),"null"!=getURLParameter("last_name")&&($('input[name="contact[last_name]"]').val(getURLParameter("last_name")),$("[name=last_name]").val(getURLParameter("last_name"))),"null"!=getURLParameter("address_1")&&($('input[name="contact[address_1]"]').val(getURLParameter("address")),$("[name=address_1]").val(getURLParameter("address_1"))),"null"!=getURLParameter("address_2")&&($('input[name="contact[address_1]"]').val(getURLParameter("address")),$("[name=address_2]").val(getURLParameter("address_2"))),"null"!=getURLParameter("city")&&($('input[name="contact[city]"]').val(getURLParameter("city")),$("[name=city]").val(getURLParameter("city"))),"null"!=getURLParameter("state")&&($('input[name="contact[state]"]').val(getURLParameter("state")),$("[name=state]").val(getURLParameter("state"))),"null"!=getURLParameter("zip")&&($('input[name="contact[zip]"]').val(getURLParameter("zip")),$("[name=zip]").val(getURLParameter("zip"))),"null"!=getURLParameter("phone")&&($('input[name="contact[phone]"]').val(getURLParameter("phone")),$("[name=phone]").val(getURLParameter("phone")))});
